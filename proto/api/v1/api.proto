syntax = "proto3";

package api.v1;

option go_package = "github.com/openstatushq/openqueue/proto/gen/api/v1;api";

service QueueService {
  rpc CreateTask (CreateTaskRequest) returns (CreateTaskResponse) {}
}

enum HTTPMethod {
    HTTP_METHOD_UNSPECIFIED = 0;
    HTTP_METHOD_GET = 1;
    HTTP_METHOD_POST = 2;
    HTTP_METHOD_PUT = 3;
    HTTP_METHOD_DELETE = 4;
    HTTP_METHOD_HEAD = 5;
    HTTP_METHOD_OPTIONS = 6;
    HTTP_METHOD_PATCH = 7;
    HTTP_METHOD_CONNECT = 8;
}

message Task {
    string url = 1;
    HTTPMethod method = 2;
    map<string, string> headers = 3;
}

message CreateTaskRequest {
    string queue_name = 1;
    Task task = 2;
}
message CreateTaskResponse {
    int64 task_id = 1;
}
